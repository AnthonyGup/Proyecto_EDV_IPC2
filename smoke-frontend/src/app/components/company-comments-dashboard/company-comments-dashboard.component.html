<div class="container-fluid py-4" style="background-color: #0f172a; min-height: 100vh;">
  <div class="alert alert-success" [class.fade]="successMessageExiting" *ngIf="successMessage">{{ successMessage }}</div>

  <div class="card bg-dark text-light border-secondary mb-4">
    <div class="card-header" style="background-color: #111827; border-bottom: 1px solid #374151;">
      <h1 class="mb-0">Gesti√≥n de Comentarios</h1>
      <p class="text-secondary mb-0">Selecciona un juego para editar sus comentarios</p>
    </div>
    <div class="card-body">
      <div class="d-flex gap-2">
        <button class="btn btn-danger" (click)="toggleCommentsVisibility()" [disabled]="updatingVisibility">
          Desactivar Comentarios
        </button>
        <button class="btn btn-success" (click)="activateCommentsVisibility()" [disabled]="updatingVisibility">
          Activar Comentarios
        </button>
      </div>
    </div>
  </div>

  <div *ngIf="loading" class="text-center py-5">
    <p class="text-light">Cargando videojuegos...</p>
  </div>

  <div *ngIf="error && !loading" class="alert alert-danger">
    <p>{{ error }}</p>
    <button class="btn btn-primary" (click)="loadVideogames()">Reintentar</button>
  </div>

  <div *ngIf="!loading && videogames.length > 0" class="row g-3">
    <div class="col-md-6 col-lg-4 col-xl-3" *ngFor="let game of videogames">
      <div class="card bg-dark border-secondary h-100">
        <img [src]="getImageUrl(game)" class="card-img-top" alt="{{ game.name }}" style="height: 200px; object-fit: cover;" />
        <div class="card-body">
          <h5 class="card-title text-light">{{ game.name }}</h5>
          <div class="d-flex gap-2 mt-3">
            <button class="btn btn-sm btn-danger flex-fill" (click)="disableGameComments(game)" [disabled]="game.updatingComments">
              {{ game.updatingComments ? 'Procesando...' : 'Desactivar' }}
            </button>
            <button class="btn btn-sm btn-success flex-fill" (click)="enableGameComments(game)" [disabled]="game.updatingComments">
              {{ game.updatingComments ? 'Procesando...' : 'Activar' }}
            </button>
          </div>
        </div>
      </div>
    </div>
  </div>

  <div *ngIf="!loading && videogames.length === 0" class="text-center py-5">
    <p class="text-secondary">No hay videojuegos disponibles</p>
  </div>
</div>
